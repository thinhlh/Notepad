<Window
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:command="clr-namespace:Notepad.Classes"
        xmlns:WPF="clr-namespace:ConsoleControl.WPF;assembly=ConsoleControl.WPF" x:Class="Notepad.MainWindow"
        mc:Ignorable="d"
        Title="Notepad" 
        Height="450" 
        Width="800" 
        ScrollViewer.HorizontalScrollBarVisibility="Auto" 
        ScrollViewer.VerticalScrollBarVisibility="Auto" 
        WindowStartupLocation="CenterScreen" 
        Icon="SublimeIcon.png"
        Loaded="{Binding Window_Loaded}"
        DataContext="{StaticResource MainVM}">

    <Window.CommandBindings>
        <CommandBinding Command="ApplicationCommands.New"
                        Executed="{Binding NewFile_Executed}"
                        CanExecute="{Binding NewFile_CanExecute}"/>

        <CommandBinding Command="ApplicationCommands.Open"
                        Executed="{Binding OpenFile_Executed}"
                        CanExecute="{Binding OpenFile_CanExecute}"/>

        <CommandBinding Command="ApplicationCommands.Save"
                        Executed="{Binding Save_Executed}"
                        CanExecute="{Binding Save_CanExecute}"/>

        <CommandBinding Command="ApplicationCommands.SaveAs"
                        Executed="{Binding SaveAs_Executed}"
                        CanExecute="{Binding SaveAs_CanExecute}"/>


        <CommandBinding Command="command:CustomCommands.CloseFile"
                        Executed="{Binding CloseFile_Executed}"
                        CanExecute="{Binding CloseFile_CanExecute}"/>

        <CommandBinding Command="command:CustomCommands.Exit"
                        Executed="{Binding Exit_Executed}"
                        CanExecute="{Binding Exit_CanExecute}"/>

        <CommandBinding Command="command:CustomCommands.NewTerminal"
                        Executed="{Binding NewTerminal_Executed}" 
                        CanExecute="{Binding NewTerminal_CanExecute}"/>

        <CommandBinding Command="command:CustomCommands.NewTerminalCurrentDir"
                        Executed="{Binding NewTerminalCurrentDir_Executed}"
                        CanExecute="{Binding NewTerminalCurrentDir_CanExecute}"/>

        <CommandBinding Command="command:CustomCommands.Build"
                        Executed="{Binding Build_Executed}"
                        CanExecute="{Binding Build_CanExecute}"/>

        <CommandBinding Command="command:CustomCommands.BuildAndRun"
                        Executed="{Binding BuildAndRun_Executed}"
                        CanExecute="{Binding BuildAndRun_CanExecute}"/>

    </Window.CommandBindings>


    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="auto"/>
            <RowDefinition Height="12*"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        <Menu Grid.Row="0" Background="White" >
            <MenuItem Header="File" x:Name="File">
                <MenuItem Header="New File" Command="ApplicationCommands.New"  x:Name="NewFile"/>
                <MenuItem Header="Open File" Command="ApplicationCommands.Open" x:Name="OpenFile"/>
                <MenuItem Header="Open Folder" x:Name="OpenFolder" IsEnabled="False"/>

                <Separator/>

                <MenuItem Header="Save" x:Name="Save" Command="ApplicationCommands.Save"/>
                <MenuItem Header="Save As" Command="ApplicationCommands.SaveAs" x:Name="SaveAs"/>
                <MenuItem Header="Save All" x:Name="SaveAll" Click="{Binding SaveAll_Click}"/>

                <Separator/>

                <MenuItem Header="Close File" x:Name="CloseFile" Command="command:CustomCommands.CloseFile"/>
                <MenuItem Header="Close All Files" x:Name="CloseAllFiles" Click="{Binding CloseAllFiles_Click}"/>
                <MenuItem Header="New Window" x:Name="NewWindow" Click="{Binding NewWindow_Click}"/>

                <Separator/>

                <MenuItem Header="Exit" x:Name="Exit" Command="command:CustomCommands.Exit"/>
            </MenuItem>

            <MenuItem Header="Edit">
                <MenuItem Header="Cut" x:Name="Cut" Command="ApplicationCommands.Cut"/>
                <MenuItem Header="Copy" x:Name="Copy" Command="ApplicationCommands.Copy"/>
                <MenuItem Header="Paste" x:Name="Paste" Command="ApplicationCommands.Paste"/>
                <MenuItem Header="Undo" x:Name="Undo" Command="ApplicationCommands.Undo"/>

                <Separator/>

                <MenuItem Header="Find" x:Name="Find" Command="ApplicationCommands.Find"/>
                <MenuItem Header="Replace" x:Name="Replace" Command="ApplicationCommands.Replace"/>
            </MenuItem>

            <MenuItem Header="Selection" x:Name="Selection">
                <MenuItem Header="Select All" x:Name="SelectAll" Command="ApplicationCommands.SelectAll"/>
            </MenuItem>

            <MenuItem Header="Languages" x:Name="Languages">
                <ComboBoxItem x:Name="C" Content="C" />
                <ComboBoxItem x:Name="CPlusPlus" Content="C++"/>
                <ComboBoxItem x:Name="Java" Content="Java"/>
                <ComboBoxItem x:Name="JavaScript" Content="JavaScript"/>
                <ComboBoxItem x:Name="CSharp" Content="C#"/>
            </MenuItem>

            <MenuItem Header="Run" x:Name="Run">
                <MenuItem Header="Build" x:Name="Build" Command="command:CustomCommands.Build" />
                <MenuItem Header="Build And Run" x:Name="BuildAndRun" Command="command:CustomCommands.BuildAndRun"/>

                <Separator/>

                <MenuItem Header="Debug" x:Name="Debug"/>
                <MenuItem Header="Run Without Debug" x:Name="RunWithoutDebug"/>
            </MenuItem>

            <MenuItem Header="Terminal" x:Name="Terminal">
                <MenuItem Header="New Terminal" x:Name="NewTerminal" Command="command:CustomCommands.NewTerminal"/>
                <MenuItem Header="Open Terminal in Current Workspace" x:Name="NewTerminalCurrentDir" Command="command:CustomCommands.NewTerminalCurrentDir"/>
            </MenuItem>

            <MenuItem Header="Preferences" x:Name="Preferences">
                <MenuItem Header="Dark Mode" x:Name="Darkmode"/>
                <MenuItem Header="Auto Save" x:Name="AutoSave"/>
            </MenuItem>

            <MenuItem Header="Help" x:Name="Help">
                <MenuItem Header="About" x:Name="About"/>
                <MenuItem Header="Report" x:Name="Report"/>
            </MenuItem>
        </Menu>

        <TabControl  FontFamily="Consolas" Grid.Row="1" x:Name="tabControl" x:FieldModifier="public"/>
        <!--<WPF:ConsoleControl Height="200" Name="Console" Loaded="ConsoleControl"></WPF:ConsoleControl>-->

        <StatusBar Grid.Row="2" x:Name="StatusBar" Background="White" BorderThickness="0.3" BorderBrush="Gray" FontWeight="Medium">
            <StatusBarItem>
                <TextBlock x:Name="StatusText" Text="{Binding}"/>
            </StatusBarItem>

            <StatusBarItem HorizontalAlignment="Right">
                <Slider Minimum="10" Maximum="50" Width="150" TickFrequency="10" IsSnapToTickEnabled="True" TickPlacement="BottomRight" ValueChanged="{Binding Slider_ValueChanged}"/>
            </StatusBarItem>
        </StatusBar>
    </Grid>
</Window>